{"version":3,"names":[],"mappings":"","sources":["game/controllers/game.client.controller.js"],"sourcesContent":["//File Name: ./dev/js/app/game/controllers/game.client.controller.js\n//Controller for game module\nangular.module('game')\n  .controller('GameController',\n    ['$scope', '$routeParams', '$location', 'Game', 'Authentication', function($scope, $routeParams, $location, Game, Authentication){\n\n      $scope.moment = moment();\n\n      $scope.getUser = function(){\n        $scope.user = Authentication.User.query({}); //retrieves the user accoutn information\n        $scope.facebook = Authentication.Facebook.query({});//retrieves the user's facebook information: picture, friends, etc.\n      };\n\n      $scope.getLeaderboard = function(){\n        $scope.leaderboard = Game.Leaderboard.query({});\n      };\n\n      $scope.getNFLSchedule = function(){\n        $scope.NFL = Game.NFL.query({}); //retrieves the current nfl games\n      };\n\n      $scope.pickGame = function(value){\n\n        var currentTime = moment(); //get current time\n        var gameTime = moment.unix(this.game.unix); //get time of game start\n\n        if(moment(currentTime).isAfter(gameTime) === true){ //check if the game has already started\n          console.log('you can\\'t pick after the game has started'); //don't allow user to make a pick if the game has started\n          //possibly use notie here\n        } else {\n          var team = '';\n          if(value === 'home'){\n            team = this.game.home;\n          } else if (value === 'away'){\n            team = this.game.away;\n          }\n          var pick = new Game.Pick({\n            game_id : this.game.id,\n            week    : this.game.week,\n            unix    : this.game.unix,\n            team    : team,\n            value   : value\n          });\n          pick.$save(pick, function(response){\n            console.log(response);\n          });\n\n        }\n      };\n\n    }]);\n"],"file":"game/controllers/game.client.controller.js","sourceRoot":"/source/"}